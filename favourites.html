<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/7/7d/Aha_logo.svg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTT - Favourites</title>
    <style>
        /* General Styles */
        body { background-color: #111010; color: #f0f8ff; padding-top: 70px; }
        .navbar { height: 70px; background-color: #111111; }
        .navbar-brand img { width: 60px; height: 60px; padding: 5px; }
        .nav-link { font-size: 20px; padding: 15px; color: #b2aca8 !important; }
        .nav-link:hover, .nav-item .active { color: #f4a004 !important; }
        .section-title { color: aliceblue; margin-bottom: 30px; padding-left: 15px; text-align: center; }
        
        /* Movie Galleries */
        .movie-gallery { display: flex; flex-wrap: wrap; justify-content: space-evenly; padding: 0 15px; }
        .movie-card-wrapper {
            margin: 15px 10px;
            width: 150px;
            position: relative;
            transition: transform .5s ease-in-out;
            border-radius: 10px;
            overflow: hidden;
            background-color: #212121;
        }
        .movie-card img {
            height: 225px;
            width: 100%;
            display: block;
            object-fit: cover;
        }
        .movie-info { padding: 8px 5px; text-align: center; }
        .add-to-bucket-btn, .remove-from-bucket-btn {
            border: none;
            width: 100%;
            padding: 5px 0;
            font-size: 0.85rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .add-to-bucket-btn {
            background-color: #f4a004;
            color: #111010;
        }
        .add-to-bucket-btn:hover { background-color: #ffc107; }
        .remove-from-bucket-btn { 
            background-color: #6a0000;
            color: #ffffff;
        }
        .remove-from-bucket-btn:hover { background-color: #8b0000; }

        /* Responsive Styles */
        @media (min-width: 576px) { .movie-card-wrapper { width: 180px; } .movie-card img { height: 270px; } }
        @media (min-width: 768px) { .movie-card-wrapper { width: 200px; } .movie-card img { height: 300px; } }
        .movie-card-wrapper:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(244, 160, 4, 0.5);
        }
        .back-link { text-align: center; margin-top: 40px; font-size: 1.2rem; }
    </style>
</head>
<body>
    
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="home.html">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Aha_OTT_Logo.svg/800px-Aha_OTT_Logo.svg.png" alt="Aha OTT Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="pg1.html">Frequently Watched</a></li>
                    <li class="nav-item"><a class="nav-link" href="recent.html">Recent</a></li>
                    <li class="nav-item"><a class="nav-link" href="toprated.html">Top Rated</a></li>
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="favourites.html">Favourites</a></li>
                    <li class="nav-item"><a class="nav-link" href="bucketlist.html">My Bucket List üìù</a></li>
                    <li class="nav-item"><a class="nav-link" href="home.html#about-section">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="form.html">Signup</a></li> 
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <h2 class="section-title">üíñ My Favorite Movies</h2>
        <div class="movie-gallery">
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjQsJRH73QaONwT-8buVcyBQ7p2jMsAMA4JQ&s" alt="Movie poster for Destiny's Call"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Destiny's Call" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRsf5jA3Ll6_6N1EAo9L5lBJJxDEXbRCGPHiw&usqp=CAU" alt="Movie poster for The Silent Road"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="The Silent Road" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC/et00407893-rzxpbdudgc-portrait.jpg" alt="Movie poster for Winter's Heart"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Winter's Heart" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>

            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://www.projectorreviews.com/wp-content/uploads/2025/04/Havoc.jpg" alt="Movie poster for Code Red"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Code Red" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQDEAkhWO-DCB-IatMYC9wxjTuWY6z0ffIlA&usqp=CAU" alt="Movie poster for The Observer"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="The Observer" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://images.jdmagicbox.com/movies/centralized_154396132023_06_26_05_46_02_220.jpg" alt="Movie poster for A Better Tomorrow"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="A Better Tomorrow" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKdkadn1atH9lceiTBJrUFIwXylOamRmAhfQ&usqp=CAU" alt="Movie poster for Whispers in the Wind"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Whispers in the Wind" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC/et00447585-jvmqqaffmf-portrait.jpg" alt="Movie poster for Deep Space Nine"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Deep Space Nine" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://akamaividz2.zee5.com/image/upload/w_336,h_504,c_scale,f_webp,q_auto:eco/resources/0-0-1z5797649/portrait/1920x7705d268d6804c4443a94858e74d4cf4dd8386872cb61bf4894bbb27ea074b2ff7f4d0a020d59894737b2d4c0b72e876eba.jpg" alt="Movie poster for The Power Play"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="The Power Play" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://qqcdnpictest.mxplay.com/pic/6574fa0a788a4908e9e5927cbbfaf378/en/2x3/320x480/8f6b8d2e87dafee76f1a628ae0b9e3bf_1280x1920.webp" alt="Movie poster for Cartoon Chaos"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Cartoon Chaos" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHgTbu-raevuPhFS9FsOruZ6DXId2qEy9v1w&usqp=CAU" alt="Movie poster for The Getaway"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="The Getaway" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>
            
            <div class="movie-card-wrapper">
                <div class="movie-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTj6tM6OuzGKY6FWLJoaXINEcywj2dVXr9XaA&usqp=CAU" alt="Movie poster for Dark City Tales"></div>
                <div class="movie-info">
                    <button class="add-to-bucket-btn" data-title="Dark City Tales" onclick="toggleBucketList(this)">Add to Bucket List</button>
                </div>
            </div>

        </div>

        <div class="back-link">
            <a href="home.html" class="text-warning text-decoration-none">‚Üê Back to Home Page</a>
        </div>
    </div>

    <footer class="container-fluid bg-dark text-white-50 py-5">
        </footer>

    <script>
        // --- Core JavaScript Logic for Bucket List ---
        
        // 1. Function to retrieve the current list from Local Storage
        function getBucketList() {
            const list = localStorage.getItem('bucketList');
            return list ? JSON.parse(list) : [];
        }

        // 2. Function to save the list back to Local Storage
        function saveBucketList(list) {
            localStorage.setItem('bucketList', JSON.stringify(list));
        }

        // 3. Function to handle adding/removing when a button is clicked
        function toggleBucketList(button) {
            const movieTitle = button.dataset.title;
            let list = getBucketList();
            const isAdded = list.includes(movieTitle);

            if (isAdded) {
                // Remove the movie
                list = list.filter(title => title !== movieTitle);
            } else {
                // Add the movie
                list.push(movieTitle);
            }
            
            saveBucketList(list);
            updateButtonState(button, list);
        }

        // 4. Function to update a single button's appearance
        function updateButtonState(button, list) {
            const movieTitle = button.dataset.title;
            const isAdded = list.includes(movieTitle);

            if (isAdded) {
                button.textContent = 'Remove from Bucket List';
                button.classList.remove('add-to-bucket-btn');
                button.classList.add('remove-from-bucket-btn');
            } else {
                button.textContent = 'Add to Bucket List';
                button.classList.remove('remove-from-bucket-btn');
                button.classList.add('add-to-bucket-btn');
            }
        }
        
        // 5. Initialize the button states on page load
        document.addEventListener('DOMContentLoaded', () => {
            const list = getBucketList();
            document.querySelectorAll('.movie-info button').forEach(button => {
                updateButtonState(button, list);
            });
        });

    </script>
</body>
</html>